<!DOCTYPE html>
<html lang="en" class="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MS EDITS Public Info Portal</title>

<script src="https://cdn.tailwindcss.com"></script>
<script>
tailwind.config = {
  darkMode: 'class',
  theme: {
    extend: {
      colors: {
        dark: {
          50: '#f8fafc',
          100: '#f1f5f9',
          200: '#e2e8f0',
          300: '#cbd5e1',
          400: '#94a3b8',
          500: '#64748b',
          600: '#475569',
          700: '#334155',
          800: '#1e293b',
          900: '#0f172a',
          950: '#020617',
        }
      },
      animation: {
        'float': 'float 3s ease-in-out infinite',
        'pulse-ring': 'pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite',
        'shimmer': 'shimmer 2s infinite',
        'slide-down': 'slideDown 0.5s ease-out',
        'fade-in': 'fadeIn 0.6s ease-out',
      },
      keyframes: {
        float: {
          '0%, 100%': { transform: 'translateY(0px)' },
          '50%': { transform: 'translateY(-10px)' },
        },
        pulse: {
          '0%, 100%': { opacity: 1 },
          '50%': { opacity: 0.5 },
        },
        shimmer: {
          '0%': { backgroundPosition: '-200% 0' },
          '100%': { backgroundPosition: '200% 0' },
        },
        slideDown: {
          'from': { opacity: 0, transform: 'translateY(-20px)' },
          'to': { opacity: 1, transform: 'translateY(0)' },
        },
        fadeIn: {
          'from': { opacity: 0 },
          'to': { opacity: 1 },
        }
      }
    }
  }
}
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

:root {
  --primary: #3b82f6;
  --primary-dark: #2563eb;
  --primary-light: #93c5fd;
  --secondary: #8b5cf6;
  --accent: #10b981;
  --danger: #ef4444;
  --warning: #f59e0b;
  --dark-bg: #0f172a;
  --dark-surface: #1e293b;
  --dark-text: #f1f5f9;
  --light-bg: #f8fafc;
  --light-surface: #ffffff;
  --light-text: #334155;
}

html, body {
  font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background-color 0.3s ease, color 0.3s ease;
  min-height: 100vh;
}

/* Dark mode styles */
.dark {
  color-scheme: dark;
}

.dark body {
  background-color: var(--dark-bg);
  color: var(--dark-text);
}

/* Light mode styles */
:not(.dark) body {
  background-color: var(--light-bg);
  color: var(--light-text);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 10px;
}

.dark ::-webkit-scrollbar-track {
  background: #1e293b;
}

.dark ::-webkit-scrollbar-thumb {
  background: #475569;
  border-radius: 5px;
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: #64748b;
}

:not(.dark) ::-webkit-scrollbar-track {
  background: #f1f5f9;
}

:not(.dark) ::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border-radius: 5px;
}

:not(.dark) ::-webkit-scrollbar-thumb:hover {
  background: #94a3b8;
}

/* Card styles */
.card {
  background: var(--light-surface);
  border-radius: 16px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  border: 1px solid rgba(0, 0, 0, 0.05);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.dark .card {
  background: var(--dark-surface);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.25);
  border: 1px solid rgba(255, 255, 255, 0.05);
}

.card:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
}

.dark .card:hover {
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.35);
}

/* Glass effect */
.glass {
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.dark .glass {
  background: rgba(30, 41, 59, 0.7);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Gradient backgrounds */
.gradient-bg {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.dark .gradient-bg {
  background: linear-gradient(135deg, #434190 0%, #5a189a 100%);
}

/* Text gradients */
.gradient-text {
  background: linear-gradient(90deg, var(--primary), var(--secondary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Button loader */
.button-loader {
  width: 20px;
  height: 20px;
  border: 3px solid rgba(255, 255, 255, 0.3);
  border-top: 3px solid white;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Shimmer effect */
.shimmer {
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.2) 50%,
    transparent 100%
  );
  background-size: 200% 100%;
  animation: shimmer 2s infinite;
}

/* Notification animations */
@keyframes slideDown {
  from {
    opacity: 0;
    transform: translate(-50%, -20px);
  }
  to {
    opacity: 1;
    transform: translate(-50%, 0);
  }
}

@keyframes slideUp {
  from {
    opacity: 1;
    transform: translate(-50%, 0);
  }
  to {
    opacity: 0;
    transform: translate(-50%, -20px);
  }
}

/* Selection color */
::selection {
  background: var(--primary);
  color: white;
}

.dark ::selection {
  background: var(--primary-light);
  color: var(--dark-bg);
}

/* Focus styles */
:focus {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}

.dark :focus {
  outline-color: var(--primary-light);
}
</style>
</head>

<body class="min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 dark:from-slate-950 dark:to-slate-900 transition-colors duration-300">

<!-- Floating Theme Toggle -->
<div class="fixed top-6 right-6 z-50">
  <button id="themeToggle" onclick="toggleTheme()" 
    class="relative w-14 h-14 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 dark:from-blue-600 dark:to-purple-700 text-white shadow-2xl hover:shadow-3xl transition-all duration-300 flex items-center justify-center group overflow-hidden active:scale-95">
    <div class="absolute inset-0 shimmer opacity-30"></div>
    <i id="themeIcon" class="fas fa-sun text-xl relative z-10"></i>
    <div class="absolute inset-0 rounded-full border-2 border-white/20 group-hover:border-white/40 transition-all"></div>
  </button>
</div>

<div class="max-w-6xl mx-auto px-4 py-8 md:py-12">
  
  <!-- Header Section -->
  <header class="text-center mb-12 animate-fade-in">
    <div class="inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-gradient-to-br from-blue-500/10 to-purple-500/10 dark:from-blue-500/20 dark:to-purple-500/20 mb-6">
      <i class="fas fa-shield-alt text-3xl gradient-text"></i>
    </div>
    <h1 class="text-4xl md:text-5xl lg:text-6xl font-black tracking-tight mb-3">
      <span class="gradient-text">MS EDITS</span>
      <span class="block text-xl md:text-2xl font-semibold text-slate-600 dark:text-slate-400 mt-4">
        Public Information Verification Portal
      </span>
    </h1>
    <p class="text-sm font-medium text-slate-500 dark:text-slate-400 tracking-wider uppercase mt-6">
      <i class="fas fa-graduation-cap mr-2"></i>Educational Purpose Only â€¢ 2026 Edition
    </p>
  </header>

  <!-- Main Search Section -->
  <main class="mb-10">
    <div class="card glass p-6 md:p-8 mb-8 max-w-3xl mx-auto">
      <div class="space-y-6">
        <div class="flex items-center gap-4">
          <div class="w-12 h-1.5 rounded-full bg-gradient-to-r from-blue-500 to-purple-500"></div>
          <h2 class="text-2xl font-bold text-slate-800 dark:text-white">
            <i class="fas fa-database text-blue-500 mr-3"></i>
            Database Query System
          </h2>
        </div>
        
        <div class="space-y-4">
          <div class="relative">
            <div class="absolute left-4 top-1/2 transform -translate-y-1/2">
              <i class="fas fa-mobile-alt text-blue-500 text-xl"></i>
            </div>
            <input 
              id="phoneInput" 
              type="tel" 
              inputmode="numeric"
              pattern="[0-9]*"
              maxlength="11"
              placeholder="Enter 11-digit Mobile Number (e.g., 03123456789)"
              class="w-full pl-14 pr-32 py-5 text-lg rounded-xl bg-white/80 dark:bg-slate-800/80 border-2 border-slate-300 dark:border-slate-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 outline-none transition-all duration-300 font-medium placeholder-slate-400 dark:placeholder-slate-500"
              autocomplete="off"
              autocorrect="off"
              spellcheck="false"
            >
            <div class="absolute right-3 top-1/2 transform -translate-y-1/2 flex items-center gap-2">
              <span class="text-xs font-bold px-3 py-1.5 rounded-lg bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400 border border-blue-200 dark:border-blue-800">
                ðŸ‡µðŸ‡°
              </span>
            </div>
          </div>
          
          <div class="flex flex-col sm:flex-row gap-4">
            <button 
              onclick="fetchData()"
              id="searchBtn"
              class="flex-1 px-8 py-5 text-lg font-bold rounded-xl bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 dark:from-blue-700 dark:to-blue-800 text-white shadow-lg hover:shadow-xl active:scale-[0.98] transition-all duration-300 flex items-center justify-center gap-3 group relative overflow-hidden"
            >
              <div class="absolute inset-0 shimmer opacity-30"></div>
              <span id="btnText" class="relative z-10">
                <i class="fas fa-search mr-3"></i>SEARCH DATABASE
              </span>
              <div id="btnLoader" class="button-loader hidden relative z-10"></div>
              <div class="absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
            </button>
            
            <button 
              onclick="clearSearch()"
              class="px-6 py-5 font-bold rounded-xl bg-gradient-to-r from-slate-600 to-slate-700 dark:from-slate-700 dark:to-slate-800 hover:from-slate-700 hover:to-slate-800 dark:hover:from-slate-600 dark:hover:to-slate-700 text-white shadow-lg hover:shadow-xl active:scale-[0.98] transition-all duration-300"
            >
              <i class="fas fa-redo mr-2"></i>CLEAR
            </button>
          </div>
          
          <p class="text-sm text-slate-500 dark:text-slate-400 flex items-center gap-2">
            <i class="fas fa-info-circle text-blue-500"></i>
            Enter a valid Pakistani mobile number (starting with 03) to search public database records
          </p>
        </div>
      </div>
    </div>

    <!-- Loading State -->
    <div id="loadingUI" class="hidden text-center py-16 max-w-2xl mx-auto">
      <div class="inline-block relative mb-8">
        <div class="w-24 h-24 rounded-full border-[6px] border-blue-200 dark:border-blue-900 border-t-blue-500 dark:border-t-blue-400 animate-spin"></div>
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">
          <i class="fas fa-database text-3xl text-blue-500"></i>
        </div>
      </div>
      <h3 class="text-2xl font-bold text-slate-800 dark:text-white mb-4">Scanning Public Database</h3>
      <div class="space-y-2">
        <p class="text-slate-600 dark:text-slate-400 font-medium">
          <span class="inline-block w-2 h-2 rounded-full bg-blue-500 animate-pulse mr-2"></span>
          Connecting to database servers
        </p>
        <p class="text-slate-600 dark:text-slate-400 font-medium">
          <span class="inline-block w-2 h-2 rounded-full bg-blue-500 animate-pulse mr-2"></span>
          Querying public records
        </p>
        <p class="text-slate-600 dark:text-slate-400 font-medium">
          <span class="inline-block w-2 h-2 rounded-full bg-blue-500 animate-pulse mr-2"></span>
          Verifying information
        </p>
      </div>
    </div>

    <!-- Results Section -->
    <div id="contentArea" class="hidden animate-slide-down">
      <div id="captureArea" class="card p-6 md:p-8 space-y-8 bg-white dark:bg-slate-900">
        <!-- Report Header -->
        <div class="text-center pb-6 border-b border-slate-200 dark:border-slate-800">
          <div class="flex flex-col md:flex-row items-center justify-between gap-4 mb-6">
            <div class="flex items-center gap-4">
              <div class="w-14 h-14 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center">
                <i class="fas fa-file-alt text-white text-2xl"></i>
              </div>
              <div class="text-left">
                <h2 class="text-2xl font-black gradient-text">PUBLIC INFORMATION REPORT</h2>
                <p id="reportDate" class="text-sm text-slate-500 dark:text-slate-400 mt-1"></p>
              </div>
            </div>
            <div class="flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border border-blue-200 dark:border-blue-800">
              <i class="fas fa-shield-check text-blue-500"></i>
              <span class="text-sm font-bold text-blue-600 dark:text-blue-400">OFFICIAL REPORT</span>
            </div>
          </div>
        </div>

        <!-- Results Grid -->
        <div id="resultsList" class="grid md:grid-cols-2 gap-6"></div>

        <!-- Provider Info -->
        <div class="mt-8 p-6 rounded-xl bg-gradient-to-r from-blue-50 to-blue-100 dark:from-slate-800 dark:to-slate-900/50 border-2 border-blue-200 dark:border-blue-800/50">
          <div class="flex flex-col md:flex-row items-center justify-between gap-4">
            <div class="space-y-2">
              <p class="text-xs uppercase tracking-widest text-slate-500 dark:text-slate-400 font-bold">
                <i class="fas fa-server mr-2"></i>DATA PROVIDER
              </p>
              <p class="text-2xl font-black gradient-text">MS EDITS PUBLIC </p>
            </div>
            <div class="text-center md:text-right">
              <p class="text-xs text-slate-500 dark:text-slate-400 mb-1">QUERY ID</p>
              <p class="font-mono font-bold text-lg text-slate-800 dark:text-slate-200"></p>
            </div>
          </div>
        </div>

        <!-- Security Disclaimer -->
        <div class="p-5 rounded-xl bg-gradient-to-r from-emerald-50 to-green-50 dark:from-emerald-900/20 dark:to-green-900/20 border-2 border-emerald-200 dark:border-emerald-800/50">
          <div class="flex items-start gap-4">
            <div class="w-12 h-12 rounded-lg bg-gradient-to-br from-emerald-500 to-green-500 flex items-center justify-center flex-shrink-0">
              <i class="fas fa-lock text-white text-xl"></i>
            </div>
            <div>
              <p class="font-bold text-emerald-700 dark:text-emerald-400 text-lg mb-2">
                <i class="fas fa-shield-alt mr-2"></i>Security & Privacy Notice
              </p>
              <p class="text-slate-700 dark:text-slate-300">
                This tool operates strictly for <span class="font-bold text-emerald-600 dark:text-emerald-400">Educational & Awareness purposes</span>.
                MS EDITS does not store, sell, or misuse any data. All information is retrieved from publicly available sources in real-time.
                Unauthorized use or distribution of this information is strictly prohibited.
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-8">
        <button 
          onclick="takeScreenshot()"
          class="group relative px-8 py-6 text-lg font-bold rounded-xl bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white shadow-xl hover:shadow-2xl active:scale-[0.98] transition-all duration-300 overflow-hidden"
        >
          <div class="absolute inset-0 shimmer opacity-30"></div>
          <div class="relative z-10 flex items-center justify-center gap-4">
            <i class="fas fa-camera text-xl"></i>
            <span>SAVE REPORT AS IMAGE</span>
          </div>
          <div class="absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
        </button>
        
        <a 
          href="https://whatsapp.com/channel/0029Vaxu3IeFy726dtMIEC1a" 
          target="_blank"
          rel="noopener noreferrer"
          class="group relative px-8 py-6 text-lg font-bold rounded-xl bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white shadow-xl hover:shadow-2xl active:scale-[0.98] transition-all duration-300 overflow-hidden text-center"
        >
          <div class="absolute inset-0 shimmer opacity-30"></div>
          <div class="relative z-10 flex items-center justify-center gap-4">
            <i class="fab fa-whatsapp text-xl"></i>
            <span>JOIN UPDATES CHANNEL</span>
          </div>
          <div class="absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
        </a>
      </div>
    </div>

    <!-- Error State -->
    <div id="errorState" class="hidden text-center p-10 card bg-white dark:bg-slate-900 max-w-2xl mx-auto">
      <div class="inline-block text-6xl mb-6 animate-float">ðŸ“‚</div>
      <h2 class="text-3xl font-black text-slate-800 dark:text-white mb-3">No Records Found</h2>
      <p class="text-slate-600 dark:text-slate-400 mb-8 max-w-md mx-auto text-lg">
        The mobile number you searched doesn't exist in our public database.
        Please verify the number and try again.
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <button 
          onclick="retrySearch()"
          class="px-8 py-4 text-lg font-bold rounded-xl bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white shadow-lg hover:shadow-xl transition-all"
        >
          <i class="fas fa-redo mr-3"></i>TRY ANOTHER NUMBER
        </button>
        <a 
          href="https://whatsapp.com/channel/0029Vaxu3IeFy726dtMIEC1a" 
          target="_blank"
          class="px-8 py-4 text-lg font-bold rounded-xl bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white shadow-lg hover:shadow-xl transition-all"
        >
          <i class="fab fa-whatsapp mr-3"></i>GET UPDATES
        </a>
      </div>
    </div>
  </main>

  <!-- Info Grid -->
  <section class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 mt-16">
    <div class="card p-6 hover:transform hover:-translate-y-1">
      <div class="w-14 h-14 rounded-xl bg-gradient-to-br from-blue-500/10 to-purple-500/10 dark:from-blue-500/20 dark:to-purple-500/20 flex items-center justify-center mb-5">
        <i class="fas fa-search text-blue-500 text-2xl"></i>
      </div>
      <h3 class="text-xl font-bold text-slate-800 dark:text-white mb-3">How to Use</h3>
      <p class="text-slate-600 dark:text-slate-400 leading-relaxed">
        Enter a valid Pakistani mobile number and click search. The system scans public databases and displays available information in real-time.
      </p>
    </div>

    <div class="card p-6 hover:transform hover:-translate-y-1">
      <div class="w-14 h-14 rounded-xl bg-gradient-to-br from-emerald-500/10 to-green-500/10 dark:from-emerald-500/20 dark:to-green-500/20 flex items-center justify-center mb-5">
        <i class="fas fa-shield-alt text-emerald-500 text-2xl"></i>
      </div>
      <h3 class="text-xl font-bold text-slate-800 dark:text-white mb-3">Privacy First</h3>
      <p class="text-slate-600 dark:text-slate-400 leading-relaxed">
        We don't store, sell, or misuse any data. All information is fetched in real-time from public sources for educational purposes.
      </p>
    </div>

    <div class="card p-6 hover:transform hover:-translate-y-1">
      <div class="w-14 h-14 rounded-xl bg-gradient-to-br from-amber-500/10 to-yellow-500/10 dark:from-amber-500/20 dark:to-yellow-500/20 flex items-center justify-center mb-5">
        <i class="fas fa-graduation-cap text-amber-500 text-2xl"></i>
      </div>
      <h3 class="text-xl font-bold text-slate-800 dark:text-white mb-3">Educational Tool</h3>
      <p class="text-slate-600 dark:text-slate-400 leading-relaxed">
        Designed to demonstrate how public data systems work. For learning, awareness, and educational purposes only.
      </p>
    </div>

    <div class="card p-6 hover:transform hover:-translate-y-1">
      <div class="w-14 h-14 rounded-xl bg-gradient-to-br from-purple-500/10 to-pink-500/10 dark:from-purple-500/20 dark:to-pink-500/20 flex items-center justify-center mb-5">
        <i class="fas fa-code text-purple-500 text-2xl"></i>
      </div>
      <h3 class="text-xl font-bold text-slate-800 dark:text-white mb-3">Developer</h3>
      <p class="text-slate-600 dark:text-slate-400 leading-relaxed">
        Built by <span class="font-bold gradient-text">MS EDITS</span> with modern web technologies, clean UI, and ethical development practices.
      </p>
    </div>
  </section>

  <!-- Footer -->
  <footer class="text-center mt-20 pt-10 border-t border-slate-200 dark:border-slate-800">
    <div class="mb-6">
      <div class="inline-flex items-center gap-2 px-6 py-3 rounded-full bg-gradient-to-r from-blue-50 to-purple-50 dark:from-slate-800 dark:to-slate-900 border border-slate-300 dark:border-slate-700">
        <i class="fas fa-exclamation-triangle text-amber-500"></i>
        <span class="text-sm font-bold text-slate-700 dark:text-slate-300">
          FOR EDUCATIONAL PURPOSES ONLY
        </span>
      </div>
    </div>
    
    <p class="text-sm text-slate-500 dark:text-slate-400 mb-6">
      <i class="fas fa-copyright mr-2"></i>2026 MS EDITS â€¢ All rights reserved â€¢ Educational Tool
    </p>
    
    <div class="flex justify-center gap-8 mb-6">
      <a href="#" class="text-slate-400 hover:text-blue-500 dark:hover:text-blue-400 transition-colors duration-300 text-xl">
        <i class="fab fa-whatsapp"></i>
      </a>
      <a href="#" class="text-slate-400 hover:text-blue-500 dark:hover:text-blue-400 transition-colors duration-300 text-xl">
        <i class="fab fa-telegram"></i>
      </a>
      <a href="#" class="text-slate-400 hover:text-blue-500 dark:hover:text-blue-400 transition-colors duration-300 text-xl">
        <i class="fas fa-envelope"></i>
      </a>
      <a href="#" class="text-slate-400 hover:text-blue-500 dark:hover:text-blue-400 transition-colors duration-300 text-xl">
        <i class="fab fa-github"></i>
      </a>
    </div>
    
    <p class="text-xs text-slate-400 dark:text-slate-600">
      Version 2.0.1 â€¢ Last Updated: January 2026
    </p>
  </footer>
</div>

<script>
// Initialize theme from localStorage
function initTheme() {
  const savedTheme = localStorage.getItem('theme') || 'dark';
  const html = document.documentElement;
  const themeIcon = document.getElementById('themeIcon');
  const themeToggle = document.getElementById('themeToggle');
  
  if (savedTheme === 'light') {
    html.classList.remove('dark');
    themeIcon.className = 'fas fa-moon text-xl relative z-10';
    themeToggle.classList.remove('bg-gradient-to-br', 'from-blue-600', 'to-purple-700');
    themeToggle.classList.add('bg-gradient-to-br', 'from-slate-600', 'to-slate-800');
  } else {
    html.classList.add('dark');
    themeIcon.className = 'fas fa-sun text-xl relative z-10';
    themeToggle.classList.remove('bg-gradient-to-br', 'from-slate-600', 'to-slate-800');
    themeToggle.classList.add('bg-gradient-to-br', 'from-blue-600', 'to-purple-700');
  }
}

// Toggle theme function
function toggleTheme() {
  const html = document.documentElement;
  const themeIcon = document.getElementById('themeIcon');
  const themeToggle = document.getElementById('themeToggle');
  const isDark = html.classList.contains('dark');
  
  if (isDark) {
    // Switch to light mode
    html.classList.remove('dark');
    themeIcon.className = 'fas fa-moon text-xl relative z-10';
    themeToggle.classList.remove('bg-gradient-to-br', 'from-blue-600', 'to-purple-700');
    themeToggle.classList.add('bg-gradient-to-br', 'from-slate-600', 'to-slate-800');
    localStorage.setItem('theme', 'light');
  } else {
    // Switch to dark mode
    html.classList.add('dark');
    themeIcon.className = 'fas fa-sun text-xl relative z-10';
    themeToggle.classList.remove('bg-gradient-to-br', 'from-slate-600', 'to-slate-800');
    themeToggle.classList.add('bg-gradient-to-br', 'from-blue-600', 'to-purple-700');
    localStorage.setItem('theme', 'dark');
  }
}

// Show notification
function showNotification(message, type = 'info') {
  const existing = document.querySelector('.notification');
  if (existing) existing.remove();

  const notification = document.createElement('div');
  notification.className = `notification fixed top-4 left-1/2 transform -translate-x-1/2 z-[60] px-6 py-3 rounded-lg font-bold shadow-xl animate-slideDown ${
    type === 'success' ? 'bg-gradient-to-r from-emerald-500 to-green-500 text-white' :
    type === 'error' ? 'bg-gradient-to-r from-red-500 to-rose-500 text-white' :
    type === 'warning' ? 'bg-gradient-to-r from-amber-500 to-yellow-500 text-white' :
    'bg-gradient-to-r from-blue-500 to-purple-500 text-white'
  }`;
  notification.textContent = message;
  
  document.body.appendChild(notification);

  setTimeout(() => {
    notification.style.animation = 'slideUp 0.3s ease-out';
    setTimeout(() => notification.remove(), 300);
  }, 3000);
}

// Handle Enter key in input
function handleEnter(event) {
  if (event.key === 'Enter') {
    fetchData();
  }
}

// Clear search
function clearSearch() {
  document.getElementById('phoneInput').value = '';
  document.getElementById('phoneInput').focus();
  showNotification('Search cleared', 'info');
}

// Retry search
function retrySearch() {
  document.getElementById('errorState').classList.add('hidden');
  document.getElementById('phoneInput').focus();
}

// Format phone number
function formatPhoneNumber(phone) {
  return phone.replace(/(\d{4})(\d{3})(\d{4})/, '$1 $2 $3');
}

// Main fetch function
async function fetchData() {
  const num = document.getElementById('phoneInput').value.trim();
  
  // Validation
  if (!num) {
    showNotification('Please enter a mobile number', 'error');
    document.getElementById('phoneInput').focus();
    return;
  }
  
  if (!/^03\d{9}$/.test(num)) {
    showNotification('Please enter a valid Pakistani mobile number (e.g., 03123456789)', 'error');
    return;
  }

  // Show loading state
  document.getElementById('btnText').classList.add('hidden');
  document.getElementById('btnLoader').classList.remove('hidden');
  document.getElementById('loadingUI').classList.remove('hidden');
  document.getElementById('contentArea').classList.add('hidden');
  document.getElementById('errorState').classList.add('hidden');
  document.getElementById('resultsList').innerHTML = '';
  
  try {
    // Add delay for better UX
    await new Promise(resolve => setTimeout(resolve, 1000));
    
    const response = await fetch(`https://pak-sim-info.ftgmhacks.workers.dev/?num=${num}`);
    const res = await response.json();
    
    // Set report date
    document.getElementById('reportDate').innerHTML = `
      <i class="far fa-calendar mr-2"></i>${new Date().toLocaleDateString('en-US', {
        weekday: 'long',
        year: 'numeric',
        month: 'long',
        day: 'numeric'
      })} â€¢ 
      <i class="far fa-clock mr-2"></i>${new Date().toLocaleTimeString('en-US', {
        hour: '2-digit',
        minute: '2-digit'
      })}
    `;
    
    if (res.success && res.data.data && res.data.data.length > 0) {
      res.data.data.forEach((item, index) => {
        const card = document.createElement('div');
        card.className = 'card p-5 hover:transform hover:-translate-y-1 transition-all duration-300';
        card.innerHTML = `
          <div class="flex items-start gap-4">
            <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0">
              <span class="text-white font-bold">${index + 1}</span>
            </div>
            <div class="flex-1 space-y-4">
              <div class="flex justify-between items-start">
                <div>
                  <h3 class="font-black text-lg text-slate-800 dark:text-white mb-1">${item.Name || 'Information Not Available'}</h3>
                  <div class="flex items-center gap-2">
                    <span class="text-xs px-2 py-1 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 font-bold">
                      <i class="fas fa-user-tag mr-1"></i>PERSONAL RECORD
                    </span>
                  </div>
                </div>
              </div>
              
              <div class="space-y-3">
                <div class="flex items-center gap-3">
                  <div class="w-8 h-8 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center">
                    <i class="fas fa-mobile-alt text-blue-500"></i>
                  </div>
                  <div>
                    <p class="text-xs text-slate-500 dark:text-slate-400">MOBILE NUMBER</p>
                    <p class="font-bold text-slate-800 dark:text-white">${formatPhoneNumber(item.Mobile) || 'N/A'}</p>
                  </div>
                </div>
                
                <div class="flex items-center gap-3">
                  <div class="w-8 h-8 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center">
                    <i class="fas fa-id-card text-purple-500"></i>
                  </div>
                  <div>
                    <p class="text-xs text-slate-500 dark:text-slate-400">CNIC NUMBER</p>
                    <p class="font-bold text-slate-800 dark:text-white">${item.CNIC || 'N/A'}</p>
                  </div>
                </div>
                
                <div class="flex items-start gap-3">
                  <div class="w-8 h-8 rounded-lg bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center mt-1">
                    <i class="fas fa-map-marker-alt text-emerald-500"></i>
                  </div>
                  <div>
                    <p class="text-xs text-slate-500 dark:text-slate-400">ADDRESS</p>
                    <p class="font-bold text-slate-800 dark:text-white">${item.Address || 'N/A'}</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        `;
        document.getElementById('resultsList').appendChild(card);
      });
      
      document.getElementById('contentArea').classList.remove('hidden');
      showNotification(`${res.data.data.length} record(s) found`, 'success');
      
    } else {
      document.getElementById('errorState').classList.remove('hidden');
      showNotification('No records found for this number', 'warning');
    }
    
  } catch (error) {
    console.error('Error:', error);
    document.getElementById('errorState').classList.remove('hidden');
    showNotification('Network error. Please check your connection and try again.', 'error');
    
  } finally {
    document.getElementById('btnText').classList.remove('hidden');
    document.getElementById('btnLoader').classList.add('hidden');
    document.getElementById('loadingUI').classList.add('hidden');
  }
}

// Take screenshot
function takeScreenshot() {
  const element = document.getElementById('captureArea');
  const originalOpacity = element.style.opacity;
  
  // Add loading effect
  element.style.opacity = '0.95';
  showNotification('Generating report image...', 'info');
  
  html2canvas(element, {
    backgroundColor: document.documentElement.classList.contains('dark') ? '#0f172a' : '#ffffff',
    scale: 2,
    useCORS: true,
    allowTaint: true,
    logging: false
  }).then(canvas => {
    const ctx = canvas.getContext('2d');
    
    // Add watermark
    ctx.font = "bold 20px 'Plus Jakarta Sans', sans-serif";
    ctx.fillStyle = document.documentElement.classList.contains('dark') ? 'rgba(255, 255, 255, 0.15)' : 'rgba(0, 0, 0, 0.1)';
    ctx.textAlign = 'right';
    ctx.fillText('msedits.pages.dev', canvas.width - 30, canvas.height - 30);
    
    // Add timestamp
    ctx.font = "14px 'Plus Jakarta Sans', sans-serif";
    ctx.fillText(new Date().toLocaleString(), canvas.width - 30, canvas.height - 55);
    
    // Download
    const link = document.createElement('a');
    link.download = `MS_EDITS_REPORT_${Date.now()}.png`;
    link.href = canvas.toDataURL('image/png', 1.0);
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
    
    // Restore opacity
    element.style.opacity = originalOpacity;
    showNotification('Report saved as image', 'success');
    
  }).catch(err => {
    console.error('Screenshot error:', err);
    element.style.opacity = originalOpacity;
    showNotification('Failed to save image', 'error');
  });
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', () => {
  initTheme();
  
  // Setup input handling
  const phoneInput = document.getElementById('phoneInput');
  const searchBtn = document.getElementById('searchBtn');
  
  // Input validation
  phoneInput.addEventListener('input', (e) => {
    e.target.value = e.target.value.replace(/[^0-9]/g, '');
    if (e.target.value.length > 11) {
      e.target.value = e.target.value.slice(0, 11);
    }
    
    // Enable/disable button
    searchBtn.disabled = !/^03\d{9}$/.test(e.target.value);
    searchBtn.classList.toggle('opacity-70', searchBtn.disabled);
    searchBtn.classList.toggle('cursor-not-allowed', searchBtn.disabled);
  });
  
  // Auto-focus input
  phoneInput.focus();
  
  // Add enter key support
  phoneInput.addEventListener('keypress', (e) => {
    if (e.key === 'Enter' && !searchBtn.disabled) {
      fetchData();
    }
  });
});
</script>

</body>
</html>