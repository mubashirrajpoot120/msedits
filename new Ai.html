<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MS EDITS • AI Hub</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">

<style>
/* ========= THEME VARIABLES ========= */
:root{
  --bg:#0b0f14;
  --card:#121821;
  --text:#e5e7eb;
  --muted:#9ca3af;
  --border:#1f2937;
  --accent:#00b7ff;
}

body.light{
  --bg:#f4f6fb;
  --card:#ffffff;
  --text:#111827;
  --muted:#4b5563;
  --border:#e5e7eb;
  --accent:#2563eb;
}

/* ========= BASE ========= */
body{
  background:var(--bg);
  color:var(--text);
  font-family:system-ui,-apple-system,Segoe UI;
  transition:.3s;
}

.container{max-width:900px;}

.brand{
  font-size:3rem;
  font-weight:900;
  text-align:center;
  background:linear-gradient(90deg,#00c6ff,#0072ff);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}

.subtitle{
  text-align:center;
  color:var(--muted);
}

/* ========= CARD ========= */
.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:16px;
  box-shadow:0 20px 50px rgba(0,0,0,.25);
}

/* ========= FORM ========= */
label{color:var(--text);}

.form-control,.form-select{
  background:transparent;
  border:1px solid var(--border);
  color:var(--text);
}

.form-control::placeholder{color:var(--muted);}

.form-control:focus,.form-select:focus{
  border-color:var(--accent);
  box-shadow:0 0 0 .25rem rgba(0,183,255,.25);
}

/* ========= BUTTON ========= */
.btn-main{
  background:linear-gradient(135deg,#0072ff,#00c6ff);
  border:none;
  color:#fff;
  font-weight:600;
}

.btn-main:hover{
  transform:translateY(-1px);
  box-shadow:0 10px 30px rgba(0,183,255,.35);
}

/* ========= RESPONSE ========= */
#response-output{
  white-space:pre-wrap;
  font-size:.95rem;
  color:var(--text);
}

#response-image{
  max-width:100%;
  border-radius:12px;
}

/* ========= TOGGLE ========= */
.theme-toggle{
  position:absolute;
  top:20px;
  right:20px;
}

/* ========= FOOTER ========= */
footer{
  text-align:center;
  margin-top:40px;
  color:var(--muted);
  font-size:.9rem;
}
</style>
</head>

<body>

<div class="theme-toggle">
<button class="btn btn-sm btn-outline-secondary" id="themeBtn">
<i class="bi bi-moon-stars-fill"></i>
</button>
</div>

<div class="container my-5">

<header class="mb-5">
<h1 class="brand">MS EDITS AI HUB</h1>
<p class="subtitle">Professional AI Text & Image Generator</p>
</header>

<div class="card p-4 mb-4">
<form id="ai-form">

<div class="mb-3">
<label class="form-label"><i class="bi bi-cpu"></i> Select Model</label>
<select id="model-select" class="form-select form-select-lg">
<option value="/" data-type="text" selected>Llama 3 • General AI</option>
<option value="/mistral" data-type="text">Mistral 7B • Smart AI</option>
<option value="/sql" data-type="text">SQL Coder • Database</option>
<option value="/image" data-type="image">Stable Diffusion • Image</option>
</select>
</div>

<div class="mb-4">
<label class="form-label"><i class="bi bi-chat-dots"></i> Prompt</label>
<textarea id="prompt-input" class="form-control" rows="4" placeholder="Ask anything..." required></textarea>
</div>

<button class="btn btn-main btn-lg w-100" id="submit-btn">
<i class="bi bi-send"></i> Generate
</button>

</form>
</div>

<div id="response-container" class="card p-4 d-none">
<h5 class="mb-3"><i class="bi bi-lightning-charge-fill"></i> AI Response</h5>

<div id="loading-spinner" class="text-center d-none">
<div class="spinner-border text-info"></div>
</div>

<div id="text-response-wrapper" class="d-none">
<pre id="response-output"></pre>
</div>

<div id="image-response-wrapper" class="d-none text-center">
<img id="response-image">
</div>
</div>

<footer>
© 2026 Developed by <strong>MS EDITS</strong>
</footer>

</div>

<script>
/* ===== THEME TOGGLE ===== */
const themeBtn=document.getElementById('themeBtn');
const body=document.body;

if(localStorage.theme==='light') body.classList.add('light');

themeBtn.onclick=()=>{
body.classList.toggle('light');
localStorage.theme=body.classList.contains('light')?'light':'dark';
themeBtn.innerHTML=body.classList.contains('light')
?'<i class="bi bi-sun-fill"></i>'
:'<i class="bi bi-moon-stars-fill"></i>';
};

/* ===== AI LOGIC (SAME) ===== */
const aiForm=document.getElementById('ai-form');
const modelSelect=document.getElementById('model-select');
const promptInput=document.getElementById('prompt-input');
const submitBtn=document.getElementById('submit-btn');
const responseContainer=document.getElementById('response-container');
const loadingSpinner=document.getElementById('loading-spinner');
const textWrapper=document.getElementById('text-response-wrapper');
const responseOutput=document.getElementById('response-output');
const imageWrapper=document.getElementById('image-response-wrapper');
const responseImage=document.getElementById('response-image');

const API_BASE_URL='https://chat-bot.fak-official.workers.dev';

modelSelect.onchange=()=>{
submitBtn.innerHTML=modelSelect.selectedOptions[0].dataset.type==='image'
?'<i class="bi bi-image"></i> Generate Image'
:'<i class="bi bi-send"></i> Generate';
};

aiForm.onsubmit=async e=>{
e.preventDefault();
const opt=modelSelect.selectedOptions[0];
const prompt=promptInput.value.trim();
if(!prompt)return;

submitBtn.disabled=true;
loadingSpinner.classList.remove('d-none');
responseContainer.classList.remove('d-none');
textWrapper.classList.add('d-none');
imageWrapper.classList.add('d-none');

try{
const url=`${API_BASE_URL}${opt.value==='/'?'':opt.value}?text=${encodeURIComponent(prompt)}`;
const res=await fetch(url);

if(opt.dataset.type==='text'){
const data=await res.json();
responseOutput.textContent=data.response||'No response';
textWrapper.classList.remove('d-none');
}else{
const blob=await res.blob();
responseImage.src=URL.createObjectURL(blob);
imageWrapper.classList.remove('d-none');
}
}catch(err){
responseOutput.textContent='Error: '+err.message;
textWrapper.classList.remove('d-none');
}

loadingSpinner.classList.add('d-none');
submitBtn.disabled=false;
};
</script>

</body>
</html>